#!/bin/bash
git clone https://github.com/iluvatar1/algoritmia-hpc-lectures

jupyter contrib nbextension install --user
#jupyter nbextension enable --py widgetsnbextension
jupyter nbextension enable python-markdown/main
jupyter nbextension enable rise/main
jupyter nbextension enable toc2/main
#jupyter nbextension enable ExecuteTime/main
jupyter nbextension enable execute_time/ExecuteTime
jupyter nbextension enable toggle_all_line_numbers/main
jupyter nbextension enable varInspector/main
jupyter nbextension enable codefolding/main
jupyter nbextension enable codefolding/edit
jupyter nbextension enable exercise2/main
jupyter nbextension enable code_prettify/code_prettify
jupyter nbextension enable collapsible_headings/main
jupyter nbextension enable equation-numbering/main
jupyter nbextension enable code_font_size/code_font_size
jupyter nbextension enable table_beautifier/main

#jupyter-nbextension enable rise --py --sys-prefix

# # Slurm stuff
# mkdir -p /etc/slurm-llnl &>/dev/null
# chmod 777 /etc/slurm-lnll
# cat << EOF > /etc/slurm-llnl/slurm.conf
# # slurm.conf file generated by configurator.html.
# # Put this file on all nodes of your cluster.
# # See the slurm.conf man page for more information.
# #
# ClusterName=localcluster
# SlurmctldHost=localhost
# MpiDefault=none
# ProctrackType=proctrack/linuxproc
# ReturnToService=2
# SlurmctldPidFile=/var/run/slurmctld.pid
# SlurmctldPort=6817
# SlurmdPidFile=/var/run/slurmd.pid
# SlurmdPort=6818
# SlurmdSpoolDir=/var/lib/slurm-llnl/slurmd
# SlurmUser=slurm
# StateSaveLocation=/var/lib/slurm-llnl/slurmctld
# SwitchType=switch/none
# TaskPlugin=task/none
# #
# # TIMERS
# InactiveLimit=0
# KillWait=30
# MinJobAge=300
# SlurmctldTimeout=120
# SlurmdTimeout=300
# Waittime=0
# # SCHEDULING
# SchedulerType=sched/backfill
# SelectType=select/cons_tres
# SelectTypeParameters=CR_Core
# #
# #AccountingStoragePort=
# AccountingStorageType=accounting_storage/none
# JobCompType=jobcomp/none
# JobAcctGatherFrequency=30
# JobAcctGatherType=jobacct_gather/none
# SlurmctldDebug=info
# SlurmctldLogFile=/var/log/slurm-llnl/slurmctld.log
# SlurmdDebug=info
# SlurmdLogFile=/var/log/slurm-llnl/slurmd.log
# #
# # COMPUTE NODES
# NodeName=localhost CPUs=70 RealMemory=50000 State=UNKNOWN
# PartitionName=LocalQ Nodes=ALL Default=YES MaxTime=INFINITE State=UP
# EOF

# chmod 755 /etc/slurm-llnl/

# systemctl start slurmctld
# systemctl start slurmd
# scontrol update nodename=localhost state=idle
